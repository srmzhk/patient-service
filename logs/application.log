2025-03-26T10:48:33.948+03:00  INFO 18556 --- [patient-service] [main] c.s.p.PatientServiceApplication          : Starting PatientServiceApplication using Java 21.0.6 with PID 18556 (E:\self-educ\patient-service\target\classes started by srmzhk in E:\self-educ\patient-service)
2025-03-26T10:48:33.948+03:00  INFO 18556 --- [patient-service] [main] c.s.p.PatientServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-26T10:48:34.631+03:00  INFO 18556 --- [patient-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-26T10:48:34.671+03:00  INFO 18556 --- [patient-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 1 JPA repository interface.
2025-03-26T10:48:35.330+03:00  INFO 18556 --- [patient-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-03-26T10:48:35.330+03:00  INFO 18556 --- [patient-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-26T10:48:35.330+03:00  INFO 18556 --- [patient-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-03-26T10:48:35.392+03:00  INFO 18556 --- [patient-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-26T10:48:35.402+03:00  INFO 18556 --- [patient-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1422 ms
2025-03-26T10:48:35.602+03:00  INFO 18556 --- [patient-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-26T10:48:35.745+03:00  INFO 18556 --- [patient-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7574d4ad
2025-03-26T10:48:35.747+03:00  INFO 18556 --- [patient-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-26T10:48:35.877+03:00  INFO 18556 --- [patient-service] [main] liquibase.database                       : Set default schema name to patient
2025-03-26T10:48:36.325+03:00  INFO 18556 --- [patient-service] [main] liquibase.changelog                      : Reading from patient.databasechangelog
2025-03-26T10:48:36.365+03:00  INFO 18556 --- [patient-service] [main] liquibase.ui                             : Database is up to date, no changesets to execute
2025-03-26T10:48:36.367+03:00  INFO 18556 --- [patient-service] [main] liquibase.changelog                      : Reading from patient.databasechangelog
2025-03-26T10:48:36.374+03:00  INFO 18556 --- [patient-service] [main] liquibase.util                           : UPDATE SUMMARY
2025-03-26T10:48:36.374+03:00  INFO 18556 --- [patient-service] [main] liquibase.util                           : Run:                          0
2025-03-26T10:48:36.374+03:00  INFO 18556 --- [patient-service] [main] liquibase.util                           : Previously run:               5
2025-03-26T10:48:36.374+03:00  INFO 18556 --- [patient-service] [main] liquibase.util                           : Filtered out:                 0
2025-03-26T10:48:36.374+03:00  INFO 18556 --- [patient-service] [main] liquibase.util                           : -------------------------------
2025-03-26T10:48:36.374+03:00  INFO 18556 --- [patient-service] [main] liquibase.util                           : Total change sets:            5
2025-03-26T10:48:36.375+03:00  INFO 18556 --- [patient-service] [main] liquibase.util                           : Update summary generated
2025-03-26T10:48:36.376+03:00  INFO 18556 --- [patient-service] [main] liquibase.command                        : Command execution complete
2025-03-26T10:48:36.991+03:00  INFO 18556 --- [patient-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-26T10:48:37.078+03:00  INFO 18556 --- [patient-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-03-26T10:48:37.123+03:00  INFO 18556 --- [patient-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-26T10:48:37.209+03:00  INFO 18556 --- [patient-service] [main] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true
2025-03-26T10:48:37.373+03:00  INFO 18556 --- [patient-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-26T10:48:37.407+03:00  WARN 18556 --- [patient-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-26T10:48:37.427+03:00  INFO 18556 --- [patient-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-26T10:48:37.594+03:00  INFO 18556 --- [patient-service] [main] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.srmzhk.patientservice.model.Patient
2025-03-26T10:48:38.190+03:00  INFO 18556 --- [patient-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-26T10:48:38.223+03:00  INFO 18556 --- [patient-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-26T10:48:38.776+03:00  INFO 18556 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: ModelMapperConfig | Method: modelMapper | Request: []
2025-03-26T10:48:38.800+03:00  INFO 18556 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: ModelMapperConfig | Method: modelMapper | Response: org.modelmapper.ModelMapper@1e8fd198
2025-03-26T10:48:38.831+03:00  INFO 18556 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: JacksonConfig | Method: objectMapper | Request: []
2025-03-26T10:48:38.832+03:00  INFO 18556 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: JacksonConfig | Method: objectMapper | Response: com.fasterxml.jackson.databind.ObjectMapper@70ca533a
2025-03-26T10:48:38.864+03:00  INFO 18556 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: OpenApiConfig | Method: customOpenAPI | Request: []
2025-03-26T10:48:38.877+03:00  INFO 18556 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: OpenApiConfig | Method: customOpenAPI | Response: class OpenAPI {
    openapi: 3.0.1
    info: null
    externalDocs: null
    servers: null
    security: [class SecurityRequirement {
        {bearerAuth=[]}
    }]
    tags: null
    paths: null
    components: class Components {
        schemas: null
        responses: null
        parameters: null
        examples: null
        requestBodies: null
        headers: null
        securitySchemes: {bearerAuth=class SecurityScheme {
            type: http
            description: null
            name: null
            in: null
            scheme: bearer
            bearerFormat: JWT
            flows: null
            openIdConnectUrl: null
            $ref: null
        }}
        links: null
        callbacks: null
        pathItems: null
    }
}
2025-03-26T10:48:39.030+03:00 DEBUG 18556 --- [patient-service] [main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:9090/realms/OAuth/.well-known/openid-configuration
2025-03-26T10:48:39.046+03:00 DEBUG 18556 --- [patient-service] [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-03-26T10:48:39.063+03:00  WARN 18556 --- [patient-service] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through field 'httpSecurity': Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration': Unsatisfied dependency expressed through method 'setContentNegotiationStrategy' parameter 0: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration': Failed to instantiate [org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration]: Constructor threw exception
2025-03-26T10:48:39.063+03:00  INFO 18556 --- [patient-service] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-26T10:48:39.063+03:00  INFO 18556 --- [patient-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-26T10:48:39.074+03:00  INFO 18556 --- [patient-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-26T10:48:39.078+03:00  INFO 18556 --- [patient-service] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-03-26T10:48:39.080+03:00  INFO 18556 --- [patient-service] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-26T10:48:39.110+03:00 ERROR 18556 --- [patient-service] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through field 'httpSecurity': Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration': Unsatisfied dependency expressed through method 'setContentNegotiationStrategy' parameter 0: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration': Failed to instantiate [org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.5.jar:6.2.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.4.jar:3.4.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.4.jar:3.4.4]
	at com.srmzhk.patientservice.PatientServiceApplication.main(PatientServiceApplication.java:11) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration': Unsatisfied dependency expressed through method 'setContentNegotiationStrategy' parameter 0: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration': Failed to instantiate [org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:896) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:849) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:413) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1667) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.5.jar:6.2.5]
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration': Failed to instantiate [org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:896) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:849) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:413) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1667) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:888) ~[spring-beans-6.2.5.jar:6.2.5]
	... 43 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration': Failed to instantiate [org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:321) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:309) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1919) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1883) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1773) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1741) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1616) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:888) ~[spring-beans-6.2.5.jar:6.2.5]
	... 66 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:222) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:145) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:318) ~[spring-beans-6.2.5.jar:6.2.5]
	... 83 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'OAuth2AuthorizedClientManager': Failed to instantiate [org.springframework.security.oauth2.client.OAuth2AuthorizedClientManager]: Factory method 'getAuthorizedClientManager' threw exception with message: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/client/servlet/OAuth2ClientRegistrationRepositoryConfiguration.class]: Failed to instantiate [org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception with message: Unable to resolve Configuration with the provided Issuer of "http://localhost:9090/realms/OAuth"
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1667) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2497) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration.<init>(OAuth2ClientConfiguration.java:129) ~[spring-security-config-6.4.4.jar:6.4.4]
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:209) ~[spring-beans-6.2.5.jar:6.2.5]
	... 85 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.OAuth2AuthorizedClientManager]: Factory method 'getAuthorizedClientManager' threw exception with message: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/client/servlet/OAuth2ClientRegistrationRepositoryConfiguration.class]: Failed to instantiate [org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception with message: Unable to resolve Configuration with the provided Issuer of "http://localhost:9090/realms/OAuth"
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:199) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.2.5.jar:6.2.5]
	... 102 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/client/servlet/OAuth2ClientRegistrationRepositoryConfiguration.class]: Failed to instantiate [org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception with message: Unable to resolve Configuration with the provided Issuer of "http://localhost:9090/realms/OAuth"
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:721) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:372) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.BeanFactoryUtils.beanOfTypeIncludingAncestors(BeanFactoryUtils.java:450) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2AuthorizedClientManagerRegistrar.getAuthorizedClientManager(OAuth2ClientConfiguration.java:220) ~[spring-security-config-6.4.4.jar:6.4.4]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.2.5.jar:6.2.5]
	... 105 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception with message: Unable to resolve Configuration with the provided Issuer of "http://localhost:9090/realms/OAuth"
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:199) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168) ~[spring-beans-6.2.5.jar:6.2.5]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.2.5.jar:6.2.5]
	... 121 common frames omitted
Caused by: java.lang.IllegalArgumentException: Unable to resolve Configuration with the provided Issuer of "http://localhost:9090/realms/OAuth"
	at org.springframework.security.oauth2.client.registration.ClientRegistrations.getBuilder(ClientRegistrations.java:268) ~[spring-security-oauth2-client-6.4.4.jar:6.4.4]
	at org.springframework.security.oauth2.client.registration.ClientRegistrations.fromIssuerLocation(ClientRegistrations.java:192) ~[spring-security-oauth2-client-6.4.4.jar:6.4.4]
	at org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientPropertiesMapper.getBuilderFromIssuerIfPossible(OAuth2ClientPropertiesMapper.java:97) ~[spring-boot-autoconfigure-3.4.4.jar:3.4.4]
	at org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientPropertiesMapper.getClientRegistration(OAuth2ClientPropertiesMapper.java:71) ~[spring-boot-autoconfigure-3.4.4.jar:3.4.4]
	at org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientPropertiesMapper.lambda$asClientRegistrations$0(OAuth2ClientPropertiesMapper.java:65) ~[spring-boot-autoconfigure-3.4.4.jar:3.4.4]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientPropertiesMapper.asClientRegistrations(OAuth2ClientPropertiesMapper.java:64) ~[spring-boot-autoconfigure-3.4.4.jar:3.4.4]
	at org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientRegistrationRepositoryConfiguration.clientRegistrationRepository(OAuth2ClientRegistrationRepositoryConfiguration.java:49) ~[spring-boot-autoconfigure-3.4.4.jar:3.4.4]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.2.5.jar:6.2.5]
	... 124 common frames omitted
Caused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:9090/realms/OAuth/.well-known/openid-configuration": Connection refused: getsockopt
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:751) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.oauth2.client.registration.ClientRegistrations.lambda$oidc$0(ClientRegistrations.java:203) ~[spring-security-oauth2-client-6.4.4.jar:6.4.4]
	at org.springframework.security.oauth2.client.registration.ClientRegistrations.getBuilder(ClientRegistrations.java:256) ~[spring-security-oauth2-client-6.4.4.jar:6.4.4]
	... 134 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:751) ~[na:na]
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067) ~[na:na]
	at org.springframework.http.client.SimpleClientHttpRequest.executeInternal(SimpleClientHttpRequest.java:79) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900) ~[spring-web-6.2.5.jar:6.2.5]
	... 137 common frames omitted

2025-03-26T10:49:02.052+03:00  INFO 10056 --- [patient-service] [main] c.s.p.PatientServiceApplication          : Starting PatientServiceApplication using Java 21.0.6 with PID 10056 (E:\self-educ\patient-service\target\classes started by srmzhk in E:\self-educ\patient-service)
2025-03-26T10:49:02.053+03:00  INFO 10056 --- [patient-service] [main] c.s.p.PatientServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-26T10:49:02.757+03:00  INFO 10056 --- [patient-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-26T10:49:02.794+03:00  INFO 10056 --- [patient-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interface.
2025-03-26T10:49:03.374+03:00  INFO 10056 --- [patient-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-03-26T10:49:03.394+03:00  INFO 10056 --- [patient-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-26T10:49:03.394+03:00  INFO 10056 --- [patient-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-03-26T10:49:03.476+03:00  INFO 10056 --- [patient-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-26T10:49:03.476+03:00  INFO 10056 --- [patient-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1371 ms
2025-03-26T10:49:03.695+03:00  INFO 10056 --- [patient-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-26T10:49:03.792+03:00  INFO 10056 --- [patient-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5170bc02
2025-03-26T10:49:03.794+03:00  INFO 10056 --- [patient-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-26T10:49:03.893+03:00  INFO 10056 --- [patient-service] [main] liquibase.database                       : Set default schema name to patient
2025-03-26T10:49:04.265+03:00  INFO 10056 --- [patient-service] [main] liquibase.changelog                      : Reading from patient.databasechangelog
2025-03-26T10:49:04.304+03:00  INFO 10056 --- [patient-service] [main] liquibase.ui                             : Database is up to date, no changesets to execute
2025-03-26T10:49:04.306+03:00  INFO 10056 --- [patient-service] [main] liquibase.changelog                      : Reading from patient.databasechangelog
2025-03-26T10:49:04.313+03:00  INFO 10056 --- [patient-service] [main] liquibase.util                           : UPDATE SUMMARY
2025-03-26T10:49:04.314+03:00  INFO 10056 --- [patient-service] [main] liquibase.util                           : Run:                          0
2025-03-26T10:49:04.314+03:00  INFO 10056 --- [patient-service] [main] liquibase.util                           : Previously run:               5
2025-03-26T10:49:04.314+03:00  INFO 10056 --- [patient-service] [main] liquibase.util                           : Filtered out:                 0
2025-03-26T10:49:04.314+03:00  INFO 10056 --- [patient-service] [main] liquibase.util                           : -------------------------------
2025-03-26T10:49:04.314+03:00  INFO 10056 --- [patient-service] [main] liquibase.util                           : Total change sets:            5
2025-03-26T10:49:04.315+03:00  INFO 10056 --- [patient-service] [main] liquibase.util                           : Update summary generated
2025-03-26T10:49:04.316+03:00  INFO 10056 --- [patient-service] [main] liquibase.command                        : Command execution complete
2025-03-26T10:49:04.743+03:00  INFO 10056 --- [patient-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-26T10:49:04.779+03:00  INFO 10056 --- [patient-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-03-26T10:49:04.800+03:00  INFO 10056 --- [patient-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-26T10:49:04.854+03:00  INFO 10056 --- [patient-service] [main] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true
2025-03-26T10:49:04.985+03:00  INFO 10056 --- [patient-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-26T10:49:05.024+03:00  WARN 10056 --- [patient-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-26T10:49:05.036+03:00  INFO 10056 --- [patient-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-26T10:49:05.183+03:00  INFO 10056 --- [patient-service] [main] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.srmzhk.patientservice.model.Patient
2025-03-26T10:49:05.676+03:00  INFO 10056 --- [patient-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-26T10:49:05.706+03:00  INFO 10056 --- [patient-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-26T10:49:06.180+03:00  INFO 10056 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: ModelMapperConfig | Method: modelMapper | Request: []
2025-03-26T10:49:06.193+03:00  INFO 10056 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: ModelMapperConfig | Method: modelMapper | Response: org.modelmapper.ModelMapper@34c79268
2025-03-26T10:49:06.248+03:00  INFO 10056 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: JacksonConfig | Method: objectMapper | Request: []
2025-03-26T10:49:06.248+03:00  INFO 10056 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: JacksonConfig | Method: objectMapper | Response: com.fasterxml.jackson.databind.ObjectMapper@3e283f1a
2025-03-26T10:49:06.296+03:00  INFO 10056 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: OpenApiConfig | Method: customOpenAPI | Request: []
2025-03-26T10:49:06.300+03:00  INFO 10056 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: OpenApiConfig | Method: customOpenAPI | Response: class OpenAPI {
    openapi: 3.0.1
    info: null
    externalDocs: null
    servers: null
    security: [class SecurityRequirement {
        {bearerAuth=[]}
    }]
    tags: null
    paths: null
    components: class Components {
        schemas: null
        responses: null
        parameters: null
        examples: null
        requestBodies: null
        headers: null
        securitySchemes: {bearerAuth=class SecurityScheme {
            type: http
            description: null
            name: null
            in: null
            scheme: bearer
            bearerFormat: JWT
            flows: null
            openIdConnectUrl: null
            $ref: null
        }}
        links: null
        callbacks: null
        pathItems: null
    }
}
2025-03-26T10:49:06.456+03:00 DEBUG 10056 --- [patient-service] [main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:9090/realms/OAuth/.well-known/openid-configuration
2025-03-26T10:49:06.479+03:00 DEBUG 10056 --- [patient-service] [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-03-26T10:49:06.717+03:00 DEBUG 10056 --- [patient-service] [main] o.s.web.client.RestTemplate              : Response 200 OK
2025-03-26T10:49:06.721+03:00 DEBUG 10056 --- [patient-service] [main] o.s.web.client.RestTemplate              : Reading to [java.util.Map<java.lang.String, java.lang.Object>]
2025-03-26T10:49:06.958+03:00  WARN 10056 --- [patient-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-26T10:49:07.004+03:00 TRACE 10056 --- [patient-service] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.srmzhk.patientservice.config.SecurityConfig$$SpringCGLIB$$0@5c85ed05}
2025-03-26T10:49:07.006+03:00 DEBUG 10056 --- [patient-service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-03-26T10:49:07.228+03:00 DEBUG 10056 --- [patient-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 13 mappings in 'requestMappingHandlerMapping'
2025-03-26T10:49:07.375+03:00 DEBUG 10056 --- [patient-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-26T10:49:07.405+03:00  INFO 10056 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: SecurityConfig | Method: securityFilterChain | Request: [org.springframework.security.config.annotation.web.builders.HttpSecurity@48b1f8f5]
2025-03-26T10:49:07.609+03:00 DEBUG 10056 --- [patient-service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-26T10:49:07.609+03:00  INFO 10056 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: SecurityConfig | Method: securityFilterChain | Response: DefaultSecurityFilterChain matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]
2025-03-26T10:49:07.696+03:00  INFO 10056 --- [patient-service] [main] o.s.v.b.OptionalValidatorFactoryBean     : Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-03-26T10:49:07.807+03:00 DEBUG 10056 --- [patient-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-26T10:49:07.910+03:00 DEBUG 10056 --- [patient-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-26T10:49:08.486+03:00  INFO 10056 --- [patient-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-03-26T10:49:08.493+03:00  INFO 10056 --- [patient-service] [main] c.s.p.PatientServiceApplication          : Started PatientServiceApplication in 6.756 seconds (process running for 7.284)
2025-03-26T10:49:17.159+03:00  INFO 10056 --- [patient-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-26T10:49:17.171+03:00  INFO 10056 --- [patient-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-26T10:49:17.175+03:00  INFO 10056 --- [patient-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-26T10:49:17.177+03:00  INFO 10056 --- [patient-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-26T10:49:17.182+03:00  INFO 10056 --- [patient-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-26T10:50:01.661+03:00  INFO 10452 --- [patient-service] [main] c.s.p.PatientServiceApplication          : Starting PatientServiceApplication using Java 21.0.6 with PID 10452 (E:\self-educ\patient-service\target\classes started by srmzhk in E:\self-educ\patient-service)
2025-03-26T10:50:01.664+03:00  INFO 10452 --- [patient-service] [main] c.s.p.PatientServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-26T10:50:02.282+03:00  INFO 10452 --- [patient-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-26T10:50:02.326+03:00  INFO 10452 --- [patient-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 1 JPA repository interface.
2025-03-26T10:50:03.006+03:00  INFO 10452 --- [patient-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-03-26T10:50:03.017+03:00  INFO 10452 --- [patient-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-26T10:50:03.017+03:00  INFO 10452 --- [patient-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-03-26T10:50:03.071+03:00  INFO 10452 --- [patient-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-26T10:50:03.071+03:00  INFO 10452 --- [patient-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1360 ms
2025-03-26T10:50:03.252+03:00  INFO 10452 --- [patient-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-26T10:50:03.347+03:00  INFO 10452 --- [patient-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7308c820
2025-03-26T10:50:03.349+03:00  INFO 10452 --- [patient-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-26T10:50:03.435+03:00  INFO 10452 --- [patient-service] [main] liquibase.database                       : Set default schema name to patient
2025-03-26T10:50:03.745+03:00  INFO 10452 --- [patient-service] [main] liquibase.changelog                      : Reading from patient.databasechangelog
2025-03-26T10:50:03.785+03:00  INFO 10452 --- [patient-service] [main] liquibase.ui                             : Database is up to date, no changesets to execute
2025-03-26T10:50:03.787+03:00  INFO 10452 --- [patient-service] [main] liquibase.changelog                      : Reading from patient.databasechangelog
2025-03-26T10:50:03.794+03:00  INFO 10452 --- [patient-service] [main] liquibase.util                           : UPDATE SUMMARY
2025-03-26T10:50:03.794+03:00  INFO 10452 --- [patient-service] [main] liquibase.util                           : Run:                          0
2025-03-26T10:50:03.794+03:00  INFO 10452 --- [patient-service] [main] liquibase.util                           : Previously run:               5
2025-03-26T10:50:03.794+03:00  INFO 10452 --- [patient-service] [main] liquibase.util                           : Filtered out:                 0
2025-03-26T10:50:03.794+03:00  INFO 10452 --- [patient-service] [main] liquibase.util                           : -------------------------------
2025-03-26T10:50:03.794+03:00  INFO 10452 --- [patient-service] [main] liquibase.util                           : Total change sets:            5
2025-03-26T10:50:03.795+03:00  INFO 10452 --- [patient-service] [main] liquibase.util                           : Update summary generated
2025-03-26T10:50:03.796+03:00  INFO 10452 --- [patient-service] [main] liquibase.command                        : Command execution complete
2025-03-26T10:50:04.322+03:00  INFO 10452 --- [patient-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-26T10:50:04.359+03:00  INFO 10452 --- [patient-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-03-26T10:50:04.382+03:00  INFO 10452 --- [patient-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-26T10:50:04.437+03:00  INFO 10452 --- [patient-service] [main] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true
2025-03-26T10:50:04.554+03:00  INFO 10452 --- [patient-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-26T10:50:04.590+03:00  WARN 10452 --- [patient-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-26T10:50:04.601+03:00  INFO 10452 --- [patient-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-26T10:50:04.730+03:00  INFO 10452 --- [patient-service] [main] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.srmzhk.patientservice.model.Patient
2025-03-26T10:50:05.240+03:00  INFO 10452 --- [patient-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-26T10:50:05.267+03:00  INFO 10452 --- [patient-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-26T10:50:05.704+03:00  INFO 10452 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: ModelMapperConfig | Method: modelMapper | Request: []
2025-03-26T10:50:05.716+03:00  INFO 10452 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: ModelMapperConfig | Method: modelMapper | Response: org.modelmapper.ModelMapper@18be7f57
2025-03-26T10:50:05.747+03:00  INFO 10452 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: JacksonConfig | Method: objectMapper | Request: []
2025-03-26T10:50:05.747+03:00  INFO 10452 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: JacksonConfig | Method: objectMapper | Response: com.fasterxml.jackson.databind.ObjectMapper@3dc976da
2025-03-26T10:50:05.792+03:00  INFO 10452 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: OpenApiConfig | Method: customOpenAPI | Request: []
2025-03-26T10:50:05.794+03:00  INFO 10452 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: OpenApiConfig | Method: customOpenAPI | Response: class OpenAPI {
    openapi: 3.0.1
    info: null
    externalDocs: null
    servers: null
    security: [class SecurityRequirement {
        {bearerAuth=[]}
    }]
    tags: null
    paths: null
    components: class Components {
        schemas: null
        responses: null
        parameters: null
        examples: null
        requestBodies: null
        headers: null
        securitySchemes: {bearerAuth=class SecurityScheme {
            type: http
            description: null
            name: null
            in: null
            scheme: bearer
            bearerFormat: JWT
            flows: null
            openIdConnectUrl: null
            $ref: null
        }}
        links: null
        callbacks: null
        pathItems: null
    }
}
2025-03-26T10:50:05.902+03:00 DEBUG 10452 --- [patient-service] [main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:9090/realms/OAuth/.well-known/openid-configuration
2025-03-26T10:50:05.914+03:00 DEBUG 10452 --- [patient-service] [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-03-26T10:50:05.925+03:00 DEBUG 10452 --- [patient-service] [main] o.s.web.client.RestTemplate              : Response 200 OK
2025-03-26T10:50:05.926+03:00 DEBUG 10452 --- [patient-service] [main] o.s.web.client.RestTemplate              : Reading to [java.util.Map<java.lang.String, java.lang.Object>]
2025-03-26T10:50:06.059+03:00  WARN 10452 --- [patient-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-26T10:50:06.093+03:00 TRACE 10452 --- [patient-service] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.srmzhk.patientservice.config.SecurityConfig$$SpringCGLIB$$0@70f37190}
2025-03-26T10:50:06.094+03:00 DEBUG 10452 --- [patient-service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-03-26T10:50:06.241+03:00 DEBUG 10452 --- [patient-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 13 mappings in 'requestMappingHandlerMapping'
2025-03-26T10:50:06.363+03:00 DEBUG 10452 --- [patient-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-26T10:50:06.380+03:00  INFO 10452 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: SecurityConfig | Method: securityFilterChain | Request: [org.springframework.security.config.annotation.web.builders.HttpSecurity@51535304]
2025-03-26T10:50:06.494+03:00 DEBUG 10452 --- [patient-service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-26T10:50:06.494+03:00  INFO 10452 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: SecurityConfig | Method: securityFilterChain | Response: DefaultSecurityFilterChain matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]
2025-03-26T10:50:06.553+03:00  INFO 10452 --- [patient-service] [main] o.s.v.b.OptionalValidatorFactoryBean     : Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-03-26T10:50:06.609+03:00 DEBUG 10452 --- [patient-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-26T10:50:06.672+03:00 DEBUG 10452 --- [patient-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-26T10:50:06.985+03:00  INFO 10452 --- [patient-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-03-26T10:50:06.992+03:00  INFO 10452 --- [patient-service] [main] c.s.p.PatientServiceApplication          : Started PatientServiceApplication in 5.656 seconds (process running for 6.25)
2025-03-26T10:52:28.729+03:00  INFO 10452 --- [patient-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-26T10:52:28.743+03:00  INFO 10452 --- [patient-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-26T10:52:28.748+03:00  INFO 10452 --- [patient-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-26T10:52:28.750+03:00  INFO 10452 --- [patient-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-26T10:52:28.757+03:00  INFO 10452 --- [patient-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-26T10:52:30.870+03:00  INFO 6504 --- [patient-service] [main] c.s.p.PatientServiceApplication          : Starting PatientServiceApplication using Java 21.0.6 with PID 6504 (E:\self-educ\patient-service\target\classes started by srmzhk in E:\self-educ\patient-service)
2025-03-26T10:52:30.872+03:00  INFO 6504 --- [patient-service] [main] c.s.p.PatientServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-26T10:52:31.459+03:00  INFO 6504 --- [patient-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-26T10:52:31.496+03:00  INFO 6504 --- [patient-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 1 JPA repository interface.
2025-03-26T10:52:32.027+03:00  INFO 6504 --- [patient-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-03-26T10:52:32.036+03:00  INFO 6504 --- [patient-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-26T10:52:32.036+03:00  INFO 6504 --- [patient-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-03-26T10:52:32.079+03:00  INFO 6504 --- [patient-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-26T10:52:32.079+03:00  INFO 6504 --- [patient-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1177 ms
2025-03-26T10:52:32.240+03:00  INFO 6504 --- [patient-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-26T10:52:32.337+03:00  INFO 6504 --- [patient-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7f4e5a39
2025-03-26T10:52:32.339+03:00  INFO 6504 --- [patient-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-26T10:52:32.429+03:00  INFO 6504 --- [patient-service] [main] liquibase.database                       : Set default schema name to patient
2025-03-26T10:52:32.796+03:00  INFO 6504 --- [patient-service] [main] liquibase.changelog                      : Reading from patient.databasechangelog
2025-03-26T10:52:32.834+03:00  INFO 6504 --- [patient-service] [main] liquibase.ui                             : Database is up to date, no changesets to execute
2025-03-26T10:52:32.836+03:00  INFO 6504 --- [patient-service] [main] liquibase.changelog                      : Reading from patient.databasechangelog
2025-03-26T10:52:32.844+03:00  INFO 6504 --- [patient-service] [main] liquibase.util                           : UPDATE SUMMARY
2025-03-26T10:52:32.844+03:00  INFO 6504 --- [patient-service] [main] liquibase.util                           : Run:                          0
2025-03-26T10:52:32.844+03:00  INFO 6504 --- [patient-service] [main] liquibase.util                           : Previously run:               5
2025-03-26T10:52:32.844+03:00  INFO 6504 --- [patient-service] [main] liquibase.util                           : Filtered out:                 0
2025-03-26T10:52:32.844+03:00  INFO 6504 --- [patient-service] [main] liquibase.util                           : -------------------------------
2025-03-26T10:52:32.844+03:00  INFO 6504 --- [patient-service] [main] liquibase.util                           : Total change sets:            5
2025-03-26T10:52:32.845+03:00  INFO 6504 --- [patient-service] [main] liquibase.util                           : Update summary generated
2025-03-26T10:52:32.846+03:00  INFO 6504 --- [patient-service] [main] liquibase.command                        : Command execution complete
2025-03-26T10:52:33.346+03:00  INFO 6504 --- [patient-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-26T10:52:33.381+03:00  INFO 6504 --- [patient-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-03-26T10:52:33.404+03:00  INFO 6504 --- [patient-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-26T10:52:33.456+03:00  INFO 6504 --- [patient-service] [main] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true
2025-03-26T10:52:33.576+03:00  INFO 6504 --- [patient-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-26T10:52:33.608+03:00  WARN 6504 --- [patient-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-26T10:52:33.620+03:00  INFO 6504 --- [patient-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-26T10:52:33.749+03:00  INFO 6504 --- [patient-service] [main] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.srmzhk.patientservice.model.Patient
2025-03-26T10:52:34.231+03:00  INFO 6504 --- [patient-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-26T10:52:34.257+03:00  INFO 6504 --- [patient-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-26T10:52:34.709+03:00  INFO 6504 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: ModelMapperConfig | Method: modelMapper | Request: []
2025-03-26T10:52:34.721+03:00  INFO 6504 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: ModelMapperConfig | Method: modelMapper | Response: org.modelmapper.ModelMapper@2be89ba5
2025-03-26T10:52:34.751+03:00  INFO 6504 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: JacksonConfig | Method: objectMapper | Request: []
2025-03-26T10:52:34.752+03:00  INFO 6504 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: JacksonConfig | Method: objectMapper | Response: com.fasterxml.jackson.databind.ObjectMapper@11759e4a
2025-03-26T10:52:34.798+03:00  INFO 6504 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: OpenApiConfig | Method: customOpenAPI | Request: []
2025-03-26T10:52:34.800+03:00  INFO 6504 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: OpenApiConfig | Method: customOpenAPI | Response: class OpenAPI {
    openapi: 3.0.1
    info: null
    externalDocs: null
    servers: null
    security: [class SecurityRequirement {
        {bearerAuth=[]}
    }]
    tags: null
    paths: null
    components: class Components {
        schemas: null
        responses: null
        parameters: null
        examples: null
        requestBodies: null
        headers: null
        securitySchemes: {bearerAuth=class SecurityScheme {
            type: http
            description: null
            name: null
            in: null
            scheme: bearer
            bearerFormat: JWT
            flows: null
            openIdConnectUrl: null
            $ref: null
        }}
        links: null
        callbacks: null
        pathItems: null
    }
}
2025-03-26T10:52:34.900+03:00 DEBUG 6504 --- [patient-service] [main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:9090/realms/OAuth/.well-known/openid-configuration
2025-03-26T10:52:34.911+03:00 DEBUG 6504 --- [patient-service] [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-03-26T10:52:34.920+03:00 DEBUG 6504 --- [patient-service] [main] o.s.web.client.RestTemplate              : Response 200 OK
2025-03-26T10:52:34.922+03:00 DEBUG 6504 --- [patient-service] [main] o.s.web.client.RestTemplate              : Reading to [java.util.Map<java.lang.String, java.lang.Object>]
2025-03-26T10:52:35.061+03:00  WARN 6504 --- [patient-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-26T10:52:35.097+03:00 TRACE 6504 --- [patient-service] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.srmzhk.patientservice.config.SecurityConfig$$SpringCGLIB$$0@7a4c1a6c}
2025-03-26T10:52:35.098+03:00 DEBUG 6504 --- [patient-service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-03-26T10:52:35.251+03:00 DEBUG 6504 --- [patient-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 13 mappings in 'requestMappingHandlerMapping'
2025-03-26T10:52:35.376+03:00 DEBUG 6504 --- [patient-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-26T10:52:35.394+03:00  INFO 6504 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: SecurityConfig | Method: securityFilterChain | Request: [org.springframework.security.config.annotation.web.builders.HttpSecurity@10164e94]
2025-03-26T10:52:35.513+03:00 DEBUG 6504 --- [patient-service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-26T10:52:35.513+03:00  INFO 6504 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: SecurityConfig | Method: securityFilterChain | Response: DefaultSecurityFilterChain matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]
2025-03-26T10:52:35.578+03:00  INFO 6504 --- [patient-service] [main] o.s.v.b.OptionalValidatorFactoryBean     : Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-03-26T10:52:35.631+03:00 DEBUG 6504 --- [patient-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-26T10:52:35.691+03:00 DEBUG 6504 --- [patient-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-26T10:52:36.021+03:00  INFO 6504 --- [patient-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-03-26T10:52:36.028+03:00  INFO 6504 --- [patient-service] [main] c.s.p.PatientServiceApplication          : Started PatientServiceApplication in 5.536 seconds (process running for 6.162)
2025-03-26T10:53:06.894+03:00  INFO 6504 --- [patient-service] [http-nio-8083-exec-6] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-26T10:53:06.895+03:00  INFO 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-26T10:53:06.895+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-26T10:53:06.895+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-26T10:53:06.895+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-26T10:53:06.896+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4d0d97bb
2025-03-26T10:53:06.896+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5cea34e6
2025-03-26T10:53:06.897+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-26T10:53:06.897+03:00  INFO 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-03-26T10:53:06.908+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/srmzhk/patientservice/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-03-26T10:53:06.908+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /keycloak
2025-03-26T10:53:06.909+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)
2025-03-26T10:53:06.909+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-03-26T10:53:06.911+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)
2025-03-26T10:53:06.912+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)
2025-03-26T10:53:06.913+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)
2025-03-26T10:53:06.913+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-26T10:53:06.913+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (6/12)
2025-03-26T10:53:06.914+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-26T10:53:06.914+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)
2025-03-26T10:53:06.914+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-03-26T10:53:06.914+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)
2025-03-26T10:53:06.915+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)
2025-03-26T10:53:06.915+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-26T10:53:06.916+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-26T10:53:06.916+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)
2025-03-26T10:53:06.916+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)
2025-03-26T10:53:06.916+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /keycloak
2025-03-26T10:53:06.917+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /keycloak using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001792dbfdea8@1b6f9e3b
2025-03-26T10:53:06.917+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /keycloak
2025-03-26T10:53:06.919+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/keycloak", parameters={}
2025-03-26T10:53:06.923+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.srmzhk.patientservice.exception.GlobalExceptionHandler#handleGeneralException(Exception)
2025-03-26T10:53:06.923+03:00  INFO 6504 --- [patient-service] [http-nio-8083-exec-6] c.srmzhk.patientservice.util.LogAspect   : Class: GlobalExceptionHandler | Method: handleGeneralException | Request: [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-03-26T10:53:06.924+03:00  INFO 6504 --- [patient-service] [http-nio-8083-exec-6] c.srmzhk.patientservice.util.LogAspect   : Class: GlobalExceptionHandler | Method: handleGeneralException | Response: <500 INTERNAL_SERVER_ERROR Internal Server Error,Internal server error: Request method 'GET' is not supported,[]>
2025-03-26T10:53:06.931+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2025-03-26T10:53:06.932+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Internal server error: Request method 'GET' is not supported"]
2025-03-26T10:53:06.933+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-26T10:53:06.934+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-03-26T10:53:06.935+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-03-26T10:53:11.900+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/srmzhk/patientservice/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-03-26T10:53:11.900+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /keycloak
2025-03-26T10:53:11.900+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)
2025-03-26T10:53:11.900+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-03-26T10:53:11.900+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)
2025-03-26T10:53:11.900+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)
2025-03-26T10:53:11.900+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)
2025-03-26T10:53:11.900+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-26T10:53:11.900+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (6/12)
2025-03-26T10:53:11.901+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-26T10:53:11.901+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)
2025-03-26T10:53:11.901+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-03-26T10:53:11.901+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)
2025-03-26T10:53:11.901+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)
2025-03-26T10:53:11.901+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-26T10:53:11.901+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-26T10:53:11.901+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)
2025-03-26T10:53:11.901+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)
2025-03-26T10:53:11.901+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing POST /keycloak
2025-03-26T10:53:11.901+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /keycloak using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001792dbfdea8@1b6f9e3b
2025-03-26T10:53:11.902+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /keycloak
2025-03-26T10:53:11.902+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/keycloak", parameters={}
2025-03-26T10:53:11.902+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.srmzhk.patientservice.controller.KeycloakController#getTokenByCredentials(CredentialsDto)
2025-03-26T10:53:11.935+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CredentialsDto(username=user1, password=user1, clientId=myclient, clientSecret=RQCoYnxfXjrtB6Yhu2YA1 (truncated)...]
2025-03-26T10:53:11.938+03:00  INFO 6504 --- [patient-service] [http-nio-8083-exec-10] c.srmzhk.patientservice.util.LogAspect   : Class: KeycloakController | Method: getTokenByCredentials | Request: [CredentialsDto(username=user1, password=user1, clientId=myclient, clientSecret=RQCoYnxfXjrtB6Yhu2YA10vQcGGi7UW3)]
2025-03-26T10:53:11.939+03:00  INFO 6504 --- [patient-service] [http-nio-8083-exec-10] c.srmzhk.patientservice.util.LogAspect   : Class: KeycloakServiceImpl | Method: getTokenByCredentials | Request: [CredentialsDto(username=user1, password=user1, clientId=myclient, clientSecret=RQCoYnxfXjrtB6Yhu2YA10vQcGGi7UW3)]
2025-03-26T10:53:11.939+03:00  INFO 6504 --- [patient-service] [http-nio-8083-exec-10] c.srmzhk.patientservice.util.LogAspect   : Entering method: getTokenByCredentials
2025-03-26T10:53:11.939+03:00  INFO 6504 --- [patient-service] [http-nio-8083-exec-10] c.srmzhk.patientservice.util.LogAspect   : Arguments: CredentialsDto(username=user1, password=user1, clientId=myclient, clientSecret=RQCoYnxfXjrtB6Yhu2YA10vQcGGi7UW3) 
2025-03-26T10:53:11.945+03:00 ERROR 6504 --- [patient-service] [http-nio-8083-exec-10] c.srmzhk.patientservice.util.LogAspect   : Exception occurred in Class: com.srmzhk.patientservice.service.impl.KeycloakServiceImpl | Method: getTokenByCredentials | Exception: Not enough variable values available to expand 'realm'

java.lang.IllegalArgumentException: Not enough variable values available to expand 'realm'
	at org.springframework.web.util.UriComponents$VarArgsTemplateVariables.getValue(UriComponents.java:370) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.util.UriComponents.expandUriComponent(UriComponents.java:263) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.util.HierarchicalUriComponents$PathSegmentComponent.expand(HierarchicalUriComponents.java:1000) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.util.HierarchicalUriComponents.expandInternal(HierarchicalUriComponents.java:440) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.util.HierarchicalUriComponents.expandInternal(HierarchicalUriComponents.java:53) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.util.UriComponents.expand(UriComponents.java:172) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.util.DefaultUriBuilderFactory$DefaultUriBuilder.build(DefaultUriBuilderFactory.java:459) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.util.DefaultUriBuilderFactory.expand(DefaultUriBuilderFactory.java:204) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:800) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:549) ~[spring-web-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.service.impl.KeycloakServiceImpl.getTokenByCredentials(KeycloakServiceImpl.java:30) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:49) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.util.LogAspect.logControllerMethods(LogAspect.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.service.impl.KeycloakServiceImpl$$SpringCGLIB$$0.getTokenByCredentials(<generated>) ~[classes/:na]
	at com.srmzhk.patientservice.controller.KeycloakController.getTokenByCredentials(KeycloakController.java:23) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.util.LogAspect.logControllerMethods(LogAspect.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.controller.KeycloakController$$SpringCGLIB$$0.getTokenByCredentials(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-26T10:53:11.949+03:00  INFO 6504 --- [patient-service] [http-nio-8083-exec-10] c.srmzhk.patientservice.util.LogAspect   : Exiting method: getTokenByCredentials
2025-03-26T10:53:11.949+03:00 ERROR 6504 --- [patient-service] [http-nio-8083-exec-10] c.srmzhk.patientservice.util.LogAspect   : Exception occurred in Class: com.srmzhk.patientservice.controller.KeycloakController | Method: getTokenByCredentials | Exception: Not enough variable values available to expand 'realm'

java.lang.IllegalArgumentException: Not enough variable values available to expand 'realm'
	at org.springframework.web.util.UriComponents$VarArgsTemplateVariables.getValue(UriComponents.java:370) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.util.UriComponents.expandUriComponent(UriComponents.java:263) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.util.HierarchicalUriComponents$PathSegmentComponent.expand(HierarchicalUriComponents.java:1000) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.util.HierarchicalUriComponents.expandInternal(HierarchicalUriComponents.java:440) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.util.HierarchicalUriComponents.expandInternal(HierarchicalUriComponents.java:53) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.util.UriComponents.expand(UriComponents.java:172) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.util.DefaultUriBuilderFactory$DefaultUriBuilder.build(DefaultUriBuilderFactory.java:459) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.util.DefaultUriBuilderFactory.expand(DefaultUriBuilderFactory.java:204) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:800) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:549) ~[spring-web-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.service.impl.KeycloakServiceImpl.getTokenByCredentials(KeycloakServiceImpl.java:30) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:49) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.util.LogAspect.logControllerMethods(LogAspect.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.service.impl.KeycloakServiceImpl$$SpringCGLIB$$0.getTokenByCredentials(<generated>) ~[classes/:na]
	at com.srmzhk.patientservice.controller.KeycloakController.getTokenByCredentials(KeycloakController.java:23) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.util.LogAspect.logControllerMethods(LogAspect.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.controller.KeycloakController$$SpringCGLIB$$0.getTokenByCredentials(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-26T10:53:11.951+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.srmzhk.patientservice.exception.GlobalExceptionHandler#handleGeneralException(Exception)
2025-03-26T10:53:11.951+03:00  INFO 6504 --- [patient-service] [http-nio-8083-exec-10] c.srmzhk.patientservice.util.LogAspect   : Class: GlobalExceptionHandler | Method: handleGeneralException | Request: [java.lang.IllegalArgumentException: Not enough variable values available to expand 'realm']
2025-03-26T10:53:11.951+03:00  INFO 6504 --- [patient-service] [http-nio-8083-exec-10] c.srmzhk.patientservice.util.LogAspect   : Class: GlobalExceptionHandler | Method: handleGeneralException | Response: <500 INTERNAL_SERVER_ERROR Internal Server Error,Internal server error: Not enough variable values available to expand 'realm',[]>
2025-03-26T10:53:11.952+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2025-03-26T10:53:11.952+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Internal server error: Not enough variable values available to expand 'realm'"]
2025-03-26T10:53:11.952+03:00 TRACE 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-26T10:53:11.953+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.IllegalArgumentException: Not enough variable values available to expand 'realm']
2025-03-26T10:53:11.953+03:00 DEBUG 6504 --- [patient-service] [http-nio-8083-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-03-26T10:53:42.925+03:00  INFO 6504 --- [patient-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-26T10:53:42.940+03:00  INFO 6504 --- [patient-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-26T10:53:42.946+03:00  INFO 6504 --- [patient-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-26T10:53:42.948+03:00  INFO 6504 --- [patient-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-26T10:53:42.952+03:00  INFO 6504 --- [patient-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-26T10:53:46.232+03:00  INFO 15804 --- [patient-service] [main] c.s.p.PatientServiceApplication          : Starting PatientServiceApplication using Java 21.0.6 with PID 15804 (E:\self-educ\patient-service\target\classes started by srmzhk in E:\self-educ\patient-service)
2025-03-26T10:53:46.233+03:00  INFO 15804 --- [patient-service] [main] c.s.p.PatientServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-26T10:53:46.810+03:00  INFO 15804 --- [patient-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-26T10:53:46.846+03:00  INFO 15804 --- [patient-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interface.
2025-03-26T10:53:47.380+03:00  INFO 15804 --- [patient-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-03-26T10:53:47.390+03:00  INFO 15804 --- [patient-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-26T10:53:47.390+03:00  INFO 15804 --- [patient-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-03-26T10:53:47.435+03:00  INFO 15804 --- [patient-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-26T10:53:47.435+03:00  INFO 15804 --- [patient-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1172 ms
2025-03-26T10:53:47.595+03:00  INFO 15804 --- [patient-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-26T10:53:47.703+03:00  INFO 15804 --- [patient-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@464aeb09
2025-03-26T10:53:47.704+03:00  INFO 15804 --- [patient-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-26T10:53:47.791+03:00  INFO 15804 --- [patient-service] [main] liquibase.database                       : Set default schema name to patient
2025-03-26T10:53:48.106+03:00  INFO 15804 --- [patient-service] [main] liquibase.changelog                      : Reading from patient.databasechangelog
2025-03-26T10:53:48.145+03:00  INFO 15804 --- [patient-service] [main] liquibase.ui                             : Database is up to date, no changesets to execute
2025-03-26T10:53:48.146+03:00  INFO 15804 --- [patient-service] [main] liquibase.changelog                      : Reading from patient.databasechangelog
2025-03-26T10:53:48.154+03:00  INFO 15804 --- [patient-service] [main] liquibase.util                           : UPDATE SUMMARY
2025-03-26T10:53:48.154+03:00  INFO 15804 --- [patient-service] [main] liquibase.util                           : Run:                          0
2025-03-26T10:53:48.154+03:00  INFO 15804 --- [patient-service] [main] liquibase.util                           : Previously run:               5
2025-03-26T10:53:48.154+03:00  INFO 15804 --- [patient-service] [main] liquibase.util                           : Filtered out:                 0
2025-03-26T10:53:48.154+03:00  INFO 15804 --- [patient-service] [main] liquibase.util                           : -------------------------------
2025-03-26T10:53:48.154+03:00  INFO 15804 --- [patient-service] [main] liquibase.util                           : Total change sets:            5
2025-03-26T10:53:48.155+03:00  INFO 15804 --- [patient-service] [main] liquibase.util                           : Update summary generated
2025-03-26T10:53:48.156+03:00  INFO 15804 --- [patient-service] [main] liquibase.command                        : Command execution complete
2025-03-26T10:53:48.652+03:00  INFO 15804 --- [patient-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-26T10:53:48.687+03:00  INFO 15804 --- [patient-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-03-26T10:53:48.709+03:00  INFO 15804 --- [patient-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-26T10:53:48.760+03:00  INFO 15804 --- [patient-service] [main] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true
2025-03-26T10:53:48.872+03:00  INFO 15804 --- [patient-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-26T10:53:48.904+03:00  WARN 15804 --- [patient-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-26T10:53:48.917+03:00  INFO 15804 --- [patient-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-26T10:53:49.049+03:00  INFO 15804 --- [patient-service] [main] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.srmzhk.patientservice.model.Patient
2025-03-26T10:53:49.528+03:00  INFO 15804 --- [patient-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-26T10:53:49.554+03:00  INFO 15804 --- [patient-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-26T10:53:49.996+03:00  INFO 15804 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: ModelMapperConfig | Method: modelMapper | Request: []
2025-03-26T10:53:50.008+03:00  INFO 15804 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: ModelMapperConfig | Method: modelMapper | Response: org.modelmapper.ModelMapper@7e047d85
2025-03-26T10:53:50.043+03:00  INFO 15804 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: JacksonConfig | Method: objectMapper | Request: []
2025-03-26T10:53:50.043+03:00  INFO 15804 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: JacksonConfig | Method: objectMapper | Response: com.fasterxml.jackson.databind.ObjectMapper@b45e264
2025-03-26T10:53:50.113+03:00  INFO 15804 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: OpenApiConfig | Method: customOpenAPI | Request: []
2025-03-26T10:53:50.117+03:00  INFO 15804 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: OpenApiConfig | Method: customOpenAPI | Response: class OpenAPI {
    openapi: 3.0.1
    info: null
    externalDocs: null
    servers: null
    security: [class SecurityRequirement {
        {bearerAuth=[]}
    }]
    tags: null
    paths: null
    components: class Components {
        schemas: null
        responses: null
        parameters: null
        examples: null
        requestBodies: null
        headers: null
        securitySchemes: {bearerAuth=class SecurityScheme {
            type: http
            description: null
            name: null
            in: null
            scheme: bearer
            bearerFormat: JWT
            flows: null
            openIdConnectUrl: null
            $ref: null
        }}
        links: null
        callbacks: null
        pathItems: null
    }
}
2025-03-26T10:53:50.250+03:00 DEBUG 15804 --- [patient-service] [main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:9090/realms/OAuth/.well-known/openid-configuration
2025-03-26T10:53:50.263+03:00 DEBUG 15804 --- [patient-service] [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-03-26T10:53:50.270+03:00 DEBUG 15804 --- [patient-service] [main] o.s.web.client.RestTemplate              : Response 200 OK
2025-03-26T10:53:50.271+03:00 DEBUG 15804 --- [patient-service] [main] o.s.web.client.RestTemplate              : Reading to [java.util.Map<java.lang.String, java.lang.Object>]
2025-03-26T10:53:50.405+03:00  WARN 15804 --- [patient-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-26T10:53:50.436+03:00 TRACE 15804 --- [patient-service] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.srmzhk.patientservice.config.SecurityConfig$$SpringCGLIB$$0@1784d711}
2025-03-26T10:53:50.437+03:00 DEBUG 15804 --- [patient-service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-03-26T10:53:50.573+03:00 DEBUG 15804 --- [patient-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 13 mappings in 'requestMappingHandlerMapping'
2025-03-26T10:53:50.694+03:00 DEBUG 15804 --- [patient-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-26T10:53:50.710+03:00  INFO 15804 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: SecurityConfig | Method: securityFilterChain | Request: [org.springframework.security.config.annotation.web.builders.HttpSecurity@53a74970]
2025-03-26T10:53:50.823+03:00 DEBUG 15804 --- [patient-service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-26T10:53:50.823+03:00  INFO 15804 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: SecurityConfig | Method: securityFilterChain | Response: DefaultSecurityFilterChain matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]
2025-03-26T10:53:50.883+03:00  INFO 15804 --- [patient-service] [main] o.s.v.b.OptionalValidatorFactoryBean     : Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-03-26T10:53:50.936+03:00 DEBUG 15804 --- [patient-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-26T10:53:50.996+03:00 DEBUG 15804 --- [patient-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-26T10:53:51.317+03:00  INFO 15804 --- [patient-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-03-26T10:53:51.323+03:00  INFO 15804 --- [patient-service] [main] c.s.p.PatientServiceApplication          : Started PatientServiceApplication in 5.434 seconds (process running for 5.957)
2025-03-26T10:53:55.415+03:00  INFO 15804 --- [patient-service] [http-nio-8083-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-26T10:53:55.416+03:00  INFO 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-26T10:53:55.416+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-26T10:53:55.416+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-26T10:53:55.416+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-26T10:53:55.417+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@162ccd19
2025-03-26T10:53:55.417+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@21bf94d3
2025-03-26T10:53:55.418+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-26T10:53:55.418+03:00  INFO 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-03-26T10:53:55.428+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/srmzhk/patientservice/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-03-26T10:53:55.428+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /keycloak
2025-03-26T10:53:55.429+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)
2025-03-26T10:53:55.429+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-03-26T10:53:55.430+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)
2025-03-26T10:53:55.431+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)
2025-03-26T10:53:55.432+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)
2025-03-26T10:53:55.432+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-26T10:53:55.432+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (6/12)
2025-03-26T10:53:55.432+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-26T10:53:55.433+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)
2025-03-26T10:53:55.433+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-03-26T10:53:55.434+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)
2025-03-26T10:53:55.434+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)
2025-03-26T10:53:55.434+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-26T10:53:55.435+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-26T10:53:55.435+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)
2025-03-26T10:53:55.435+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)
2025-03-26T10:53:55.435+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /keycloak
2025-03-26T10:53:55.436+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /keycloak using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000026181c01550@29c670d3
2025-03-26T10:53:55.437+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /keycloak
2025-03-26T10:53:55.439+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/keycloak", parameters={}
2025-03-26T10:53:55.440+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.srmzhk.patientservice.controller.KeycloakController#getTokenByCredentials(CredentialsDto)
2025-03-26T10:53:55.472+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CredentialsDto(username=user1, password=user1, clientId=myclient, clientSecret=RQCoYnxfXjrtB6Yhu2YA1 (truncated)...]
2025-03-26T10:53:55.476+03:00  INFO 15804 --- [patient-service] [http-nio-8083-exec-2] c.srmzhk.patientservice.util.LogAspect   : Class: KeycloakController | Method: getTokenByCredentials | Request: [CredentialsDto(username=user1, password=user1, clientId=myclient, clientSecret=RQCoYnxfXjrtB6Yhu2YA10vQcGGi7UW3)]
2025-03-26T10:53:55.476+03:00  INFO 15804 --- [patient-service] [http-nio-8083-exec-2] c.srmzhk.patientservice.util.LogAspect   : Class: KeycloakServiceImpl | Method: getTokenByCredentials | Request: [CredentialsDto(username=user1, password=user1, clientId=myclient, clientSecret=RQCoYnxfXjrtB6Yhu2YA10vQcGGi7UW3)]
2025-03-26T10:53:55.476+03:00  INFO 15804 --- [patient-service] [http-nio-8083-exec-2] c.srmzhk.patientservice.util.LogAspect   : Entering method: getTokenByCredentials
2025-03-26T10:53:55.476+03:00  INFO 15804 --- [patient-service] [http-nio-8083-exec-2] c.srmzhk.patientservice.util.LogAspect   : Arguments: CredentialsDto(username=user1, password=user1, clientId=myclient, clientSecret=RQCoYnxfXjrtB6Yhu2YA10vQcGGi7UW3) 
2025-03-26T10:53:55.480+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.web.client.RestTemplate              : HTTP POST http://keycloak:8080/realms/OAuth/protocol/openid-connect/token
2025-03-26T10:53:55.481+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-03-26T10:53:55.481+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.web.client.RestTemplate              : Writing [client_id=myclient&client_secret=RQCoYnxfXjrtB6Yhu2YA10vQcGGi7UW3&username=user1&password=user1&grant_type=password] as "application/x-www-form-urlencoded"
2025-03-26T10:53:57.770+03:00 ERROR 15804 --- [patient-service] [http-nio-8083-exec-2] c.srmzhk.patientservice.util.LogAspect   : Exception occurred in Class: com.srmzhk.patientservice.service.impl.KeycloakServiceImpl | Method: getTokenByCredentials | Exception: I/O error on POST request for "http://keycloak:8080/realms/OAuth/protocol/openid-connect/token": keycloak

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://keycloak:8080/realms/OAuth/protocol/openid-connect/token": keycloak
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:549) ~[spring-web-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.service.impl.KeycloakServiceImpl.getTokenByCredentials(KeycloakServiceImpl.java:30) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:49) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.util.LogAspect.logControllerMethods(LogAspect.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.service.impl.KeycloakServiceImpl$$SpringCGLIB$$0.getTokenByCredentials(<generated>) ~[classes/:na]
	at com.srmzhk.patientservice.controller.KeycloakController.getTokenByCredentials(KeycloakController.java:23) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.util.LogAspect.logControllerMethods(LogAspect.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.controller.KeycloakController$$SpringCGLIB$$0.getTokenByCredentials(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.net.UnknownHostException: keycloak
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:751) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:686) ~[na:na]
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067) ~[na:na]
	at org.springframework.http.client.SimpleClientHttpRequest.executeInternal(SimpleClientHttpRequest.java:79) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900) ~[spring-web-6.2.5.jar:6.2.5]
	... 141 common frames omitted

2025-03-26T10:53:57.774+03:00  INFO 15804 --- [patient-service] [http-nio-8083-exec-2] c.srmzhk.patientservice.util.LogAspect   : Exiting method: getTokenByCredentials
2025-03-26T10:53:57.775+03:00 ERROR 15804 --- [patient-service] [http-nio-8083-exec-2] c.srmzhk.patientservice.util.LogAspect   : Exception occurred in Class: com.srmzhk.patientservice.controller.KeycloakController | Method: getTokenByCredentials | Exception: I/O error on POST request for "http://keycloak:8080/realms/OAuth/protocol/openid-connect/token": keycloak

org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://keycloak:8080/realms/OAuth/protocol/openid-connect/token": keycloak
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:549) ~[spring-web-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.service.impl.KeycloakServiceImpl.getTokenByCredentials(KeycloakServiceImpl.java:30) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:49) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.util.LogAspect.logControllerMethods(LogAspect.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.service.impl.KeycloakServiceImpl$$SpringCGLIB$$0.getTokenByCredentials(<generated>) ~[classes/:na]
	at com.srmzhk.patientservice.controller.KeycloakController.getTokenByCredentials(KeycloakController.java:23) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.util.LogAspect.logControllerMethods(LogAspect.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.srmzhk.patientservice.controller.KeycloakController$$SpringCGLIB$$0.getTokenByCredentials(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.net.UnknownHostException: keycloak
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:751) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:686) ~[na:na]
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067) ~[na:na]
	at org.springframework.http.client.SimpleClientHttpRequest.executeInternal(SimpleClientHttpRequest.java:79) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900) ~[spring-web-6.2.5.jar:6.2.5]
	... 141 common frames omitted

2025-03-26T10:53:57.778+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.srmzhk.patientservice.exception.GlobalExceptionHandler#handleGeneralException(Exception)
2025-03-26T10:53:57.778+03:00  INFO 15804 --- [patient-service] [http-nio-8083-exec-2] c.srmzhk.patientservice.util.LogAspect   : Class: GlobalExceptionHandler | Method: handleGeneralException | Request: [org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://keycloak:8080/realms/OAuth/protocol/openid-connect/token": keycloak]
2025-03-26T10:53:57.778+03:00  INFO 15804 --- [patient-service] [http-nio-8083-exec-2] c.srmzhk.patientservice.util.LogAspect   : Class: GlobalExceptionHandler | Method: handleGeneralException | Response: <500 INTERNAL_SERVER_ERROR Internal Server Error,Internal server error: I/O error on POST request for "http://keycloak:8080/realms/OAuth/protocol/openid-connect/token": keycloak,[]>
2025-03-26T10:53:57.785+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2025-03-26T10:53:57.786+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Internal server error: I/O error on POST request for "http://keycloak:8080/realms/OAuth/protocol/ope (truncated)..."]
2025-03-26T10:53:57.788+03:00 TRACE 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-26T10:53:57.790+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://keycloak:8080/realms/OAuth/protocol/openid-connect/token": keycloak]
2025-03-26T10:53:57.790+03:00 DEBUG 15804 --- [patient-service] [http-nio-8083-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-03-26T10:54:52.426+03:00  INFO 15804 --- [patient-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-26T10:54:52.441+03:00  INFO 15804 --- [patient-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-26T10:54:52.446+03:00  INFO 15804 --- [patient-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-26T10:54:52.447+03:00  INFO 15804 --- [patient-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-26T10:54:52.452+03:00  INFO 15804 --- [patient-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-26T10:54:56.047+03:00  INFO 13132 --- [patient-service] [main] c.s.p.PatientServiceApplication          : Starting PatientServiceApplication using Java 21.0.6 with PID 13132 (E:\self-educ\patient-service\target\classes started by srmzhk in E:\self-educ\patient-service)
2025-03-26T10:54:56.049+03:00  INFO 13132 --- [patient-service] [main] c.s.p.PatientServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-26T10:54:56.630+03:00  INFO 13132 --- [patient-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-26T10:54:56.668+03:00  INFO 13132 --- [patient-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 1 JPA repository interface.
2025-03-26T10:54:57.197+03:00  INFO 13132 --- [patient-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-03-26T10:54:57.205+03:00  INFO 13132 --- [patient-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-26T10:54:57.206+03:00  INFO 13132 --- [patient-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-03-26T10:54:57.248+03:00  INFO 13132 --- [patient-service] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-26T10:54:57.249+03:00  INFO 13132 --- [patient-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1163 ms
2025-03-26T10:54:57.406+03:00  INFO 13132 --- [patient-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-26T10:54:57.508+03:00  INFO 13132 --- [patient-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4aa22cc2
2025-03-26T10:54:57.509+03:00  INFO 13132 --- [patient-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-26T10:54:57.599+03:00  INFO 13132 --- [patient-service] [main] liquibase.database                       : Set default schema name to patient
2025-03-26T10:54:57.959+03:00  INFO 13132 --- [patient-service] [main] liquibase.changelog                      : Reading from patient.databasechangelog
2025-03-26T10:54:58.011+03:00  INFO 13132 --- [patient-service] [main] liquibase.ui                             : Database is up to date, no changesets to execute
2025-03-26T10:54:58.013+03:00  INFO 13132 --- [patient-service] [main] liquibase.changelog                      : Reading from patient.databasechangelog
2025-03-26T10:54:58.022+03:00  INFO 13132 --- [patient-service] [main] liquibase.util                           : UPDATE SUMMARY
2025-03-26T10:54:58.022+03:00  INFO 13132 --- [patient-service] [main] liquibase.util                           : Run:                          0
2025-03-26T10:54:58.023+03:00  INFO 13132 --- [patient-service] [main] liquibase.util                           : Previously run:               5
2025-03-26T10:54:58.023+03:00  INFO 13132 --- [patient-service] [main] liquibase.util                           : Filtered out:                 0
2025-03-26T10:54:58.023+03:00  INFO 13132 --- [patient-service] [main] liquibase.util                           : -------------------------------
2025-03-26T10:54:58.023+03:00  INFO 13132 --- [patient-service] [main] liquibase.util                           : Total change sets:            5
2025-03-26T10:54:58.023+03:00  INFO 13132 --- [patient-service] [main] liquibase.util                           : Update summary generated
2025-03-26T10:54:58.024+03:00  INFO 13132 --- [patient-service] [main] liquibase.command                        : Command execution complete
2025-03-26T10:54:58.567+03:00  INFO 13132 --- [patient-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-26T10:54:58.601+03:00  INFO 13132 --- [patient-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-03-26T10:54:58.621+03:00  INFO 13132 --- [patient-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-26T10:54:58.674+03:00  INFO 13132 --- [patient-service] [main] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true
2025-03-26T10:54:58.787+03:00  INFO 13132 --- [patient-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-26T10:54:58.821+03:00  WARN 13132 --- [patient-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-26T10:54:58.833+03:00  INFO 13132 --- [patient-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-26T10:54:58.968+03:00  INFO 13132 --- [patient-service] [main] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.srmzhk.patientservice.model.Patient
2025-03-26T10:54:59.438+03:00  INFO 13132 --- [patient-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-26T10:54:59.465+03:00  INFO 13132 --- [patient-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-26T10:54:59.906+03:00  INFO 13132 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: ModelMapperConfig | Method: modelMapper | Request: []
2025-03-26T10:54:59.918+03:00  INFO 13132 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: ModelMapperConfig | Method: modelMapper | Response: org.modelmapper.ModelMapper@494c452b
2025-03-26T10:54:59.948+03:00  INFO 13132 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: JacksonConfig | Method: objectMapper | Request: []
2025-03-26T10:54:59.949+03:00  INFO 13132 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: JacksonConfig | Method: objectMapper | Response: com.fasterxml.jackson.databind.ObjectMapper@1bfa398e
2025-03-26T10:54:59.995+03:00  INFO 13132 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: OpenApiConfig | Method: customOpenAPI | Request: []
2025-03-26T10:54:59.997+03:00  INFO 13132 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: OpenApiConfig | Method: customOpenAPI | Response: class OpenAPI {
    openapi: 3.0.1
    info: null
    externalDocs: null
    servers: null
    security: [class SecurityRequirement {
        {bearerAuth=[]}
    }]
    tags: null
    paths: null
    components: class Components {
        schemas: null
        responses: null
        parameters: null
        examples: null
        requestBodies: null
        headers: null
        securitySchemes: {bearerAuth=class SecurityScheme {
            type: http
            description: null
            name: null
            in: null
            scheme: bearer
            bearerFormat: JWT
            flows: null
            openIdConnectUrl: null
            $ref: null
        }}
        links: null
        callbacks: null
        pathItems: null
    }
}
2025-03-26T10:55:00.125+03:00 DEBUG 13132 --- [patient-service] [main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:9090/realms/OAuth/.well-known/openid-configuration
2025-03-26T10:55:00.151+03:00 DEBUG 13132 --- [patient-service] [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-03-26T10:55:00.163+03:00 DEBUG 13132 --- [patient-service] [main] o.s.web.client.RestTemplate              : Response 200 OK
2025-03-26T10:55:00.168+03:00 DEBUG 13132 --- [patient-service] [main] o.s.web.client.RestTemplate              : Reading to [java.util.Map<java.lang.String, java.lang.Object>]
2025-03-26T10:55:00.356+03:00  WARN 13132 --- [patient-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-26T10:55:00.395+03:00 TRACE 13132 --- [patient-service] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.srmzhk.patientservice.config.SecurityConfig$$SpringCGLIB$$0@268eefe7}
2025-03-26T10:55:00.396+03:00 DEBUG 13132 --- [patient-service] [main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-03-26T10:55:00.537+03:00 DEBUG 13132 --- [patient-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 13 mappings in 'requestMappingHandlerMapping'
2025-03-26T10:55:00.646+03:00 DEBUG 13132 --- [patient-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-26T10:55:00.677+03:00  INFO 13132 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: SecurityConfig | Method: securityFilterChain | Request: [org.springframework.security.config.annotation.web.builders.HttpSecurity@3e272f0]
2025-03-26T10:55:00.809+03:00 DEBUG 13132 --- [patient-service] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-26T10:55:00.809+03:00  INFO 13132 --- [patient-service] [main] c.srmzhk.patientservice.util.LogAspect   : Class: SecurityConfig | Method: securityFilterChain | Response: DefaultSecurityFilterChain matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]
2025-03-26T10:55:00.870+03:00  INFO 13132 --- [patient-service] [main] o.s.v.b.OptionalValidatorFactoryBean     : Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-03-26T10:55:00.962+03:00 DEBUG 13132 --- [patient-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-26T10:55:01.037+03:00 DEBUG 13132 --- [patient-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-26T10:55:01.369+03:00  INFO 13132 --- [patient-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-03-26T10:55:01.375+03:00  INFO 13132 --- [patient-service] [main] c.s.p.PatientServiceApplication          : Started PatientServiceApplication in 5.681 seconds (process running for 6.192)
2025-03-26T10:55:06.621+03:00  INFO 13132 --- [patient-service] [http-nio-8083-exec-6] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-26T10:55:06.621+03:00  INFO 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-26T10:55:06.621+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-26T10:55:06.621+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-26T10:55:06.621+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-26T10:55:06.622+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@511f21f9
2025-03-26T10:55:06.623+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3d980928
2025-03-26T10:55:06.623+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-26T10:55:06.623+03:00  INFO 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-03-26T10:55:06.633+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [com/srmzhk/patientservice/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, BearerTokenAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization] (1/1)
2025-03-26T10:55:06.634+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /keycloak
2025-03-26T10:55:06.635+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)
2025-03-26T10:55:06.635+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)
2025-03-26T10:55:06.638+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)
2025-03-26T10:55:06.639+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)
2025-03-26T10:55:06.640+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)
2025-03-26T10:55:06.640+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-26T10:55:06.640+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (6/12)
2025-03-26T10:55:06.640+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-26T10:55:06.641+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)
2025-03-26T10:55:06.641+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)
2025-03-26T10:55:06.641+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)
2025-03-26T10:55:06.642+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)
2025-03-26T10:55:06.642+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-26T10:55:06.642+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-26T10:55:06.642+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)
2025-03-26T10:55:06.642+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)
2025-03-26T10:55:06.643+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /keycloak
2025-03-26T10:55:06.643+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /keycloak using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000002ba3bc01998@1e0a888a
2025-03-26T10:55:06.644+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /keycloak
2025-03-26T10:55:06.645+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/keycloak", parameters={}
2025-03-26T10:55:06.647+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.srmzhk.patientservice.controller.KeycloakController#getTokenByCredentials(CredentialsDto)
2025-03-26T10:55:06.680+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CredentialsDto(username=user1, password=user1, clientId=myclient, clientSecret=RQCoYnxfXjrtB6Yhu2YA1 (truncated)...]
2025-03-26T10:55:06.685+03:00  INFO 13132 --- [patient-service] [http-nio-8083-exec-6] c.srmzhk.patientservice.util.LogAspect   : Class: KeycloakController | Method: getTokenByCredentials | Request: [CredentialsDto(username=user1, password=user1, clientId=myclient, clientSecret=RQCoYnxfXjrtB6Yhu2YA10vQcGGi7UW3)]
2025-03-26T10:55:06.685+03:00  INFO 13132 --- [patient-service] [http-nio-8083-exec-6] c.srmzhk.patientservice.util.LogAspect   : Class: KeycloakServiceImpl | Method: getTokenByCredentials | Request: [CredentialsDto(username=user1, password=user1, clientId=myclient, clientSecret=RQCoYnxfXjrtB6Yhu2YA10vQcGGi7UW3)]
2025-03-26T10:55:06.685+03:00  INFO 13132 --- [patient-service] [http-nio-8083-exec-6] c.srmzhk.patientservice.util.LogAspect   : Entering method: getTokenByCredentials
2025-03-26T10:55:06.685+03:00  INFO 13132 --- [patient-service] [http-nio-8083-exec-6] c.srmzhk.patientservice.util.LogAspect   : Arguments: CredentialsDto(username=user1, password=user1, clientId=myclient, clientSecret=RQCoYnxfXjrtB6Yhu2YA10vQcGGi7UW3) 
2025-03-26T10:55:06.690+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.web.client.RestTemplate              : HTTP POST http://localhost:9090/realms/OAuth/protocol/openid-connect/token
2025-03-26T10:55:06.691+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.web.client.RestTemplate              : Accept=[application/json, application/yaml, application/*+json]
2025-03-26T10:55:06.692+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.web.client.RestTemplate              : Writing [client_id=myclient&client_secret=RQCoYnxfXjrtB6Yhu2YA10vQcGGi7UW3&username=user1&password=user1&grant_type=password] as "application/x-www-form-urlencoded"
2025-03-26T10:55:06.738+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.web.client.RestTemplate              : Response 200 OK
2025-03-26T10:55:06.738+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.web.client.RestTemplate              : Reading to [java.util.Map<?, ?>]
2025-03-26T10:55:06.741+03:00  INFO 13132 --- [patient-service] [http-nio-8083-exec-6] c.srmzhk.patientservice.util.LogAspect   : Exiting method: getTokenByCredentials
2025-03-26T10:55:06.741+03:00  INFO 13132 --- [patient-service] [http-nio-8083-exec-6] c.srmzhk.patientservice.util.LogAspect   : Class: KeycloakServiceImpl | Method: getTokenByCredentials | Response: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJpbGJmck1FLWlVZDFCRWJ2bG5vTTNmV1h6S2QtQXY1eWVDU0xkNW5VNXhjIn0.eyJleHAiOjE3NDI5NzYwMDYsImlhdCI6MTc0Mjk3NTcwNiwianRpIjoiNzExODMxZDktNzk1ZS00YzUwLThmNDQtOTMzNzhhYTExMjFiIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo5MDkwL3JlYWxtcy9PQXV0aCIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiJkMGNhMDY0MC0yYmE3LTQwMGYtODYwYi1iYmQyOTU0YzA0NTUiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJteWNsaWVudCIsInNpZCI6IjdjNWY4NzVlLTdiNmEtNDJkYi1hNGQyLTk3MmQ0MTA2ZmYxZiIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cDovL2xvY2FsaG9zdDo4MDgzIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1vYXV0aCJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoidXNlcjEgdXNlcjEiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJ1c2VyMSIsImdpdmVuX25hbWUiOiJ1c2VyMSIsImZhbWlseV9uYW1lIjoidXNlcjEiLCJlbWFpbCI6InVzZXIxQGdtYWlsLmNvbSJ9.KtzCXJpSW4OmUvvM46T-1jzD7cs9U50Z-qPZtWGBjL3oW4Y7vS41DHohRInxaXzp2_Xz3tK3kQp2Vnr79zdPnKVxG_dl4RNC3o2kvNo6vHwTrsIxQHld226IvvCvKK84FQNAzeHPC9OYNY5AzCgFR9JySMiMyMe4VqtYMX26uPoEl38OnanAKNB_2Xx5O3nqMNr4AefpE8CXNpR_LagriUPAs2TAjRbRPvnmf5G3EI4o9lGB2kJGXT8QetMnX57IBqyNkA4qIcA5PO6D1b54Ks3TEmNikVYDMFWukdywdfb6DcR047kTee6a2UZWtl1ewfuZQZ1SK3phhBcITJxTCg
2025-03-26T10:55:06.741+03:00  INFO 13132 --- [patient-service] [http-nio-8083-exec-6] c.srmzhk.patientservice.util.LogAspect   : Class: KeycloakController | Method: getTokenByCredentials | Response: <200 OK OK,eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJpbGJmck1FLWlVZDFCRWJ2bG5vTTNmV1h6S2QtQXY1eWVDU0xkNW5VNXhjIn0.eyJleHAiOjE3NDI5NzYwMDYsImlhdCI6MTc0Mjk3NTcwNiwianRpIjoiNzExODMxZDktNzk1ZS00YzUwLThmNDQtOTMzNzhhYTExMjFiIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo5MDkwL3JlYWxtcy9PQXV0aCIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiJkMGNhMDY0MC0yYmE3LTQwMGYtODYwYi1iYmQyOTU0YzA0NTUiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJteWNsaWVudCIsInNpZCI6IjdjNWY4NzVlLTdiNmEtNDJkYi1hNGQyLTk3MmQ0MTA2ZmYxZiIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cDovL2xvY2FsaG9zdDo4MDgzIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1vYXV0aCJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoidXNlcjEgdXNlcjEiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJ1c2VyMSIsImdpdmVuX25hbWUiOiJ1c2VyMSIsImZhbWlseV9uYW1lIjoidXNlcjEiLCJlbWFpbCI6InVzZXIxQGdtYWlsLmNvbSJ9.KtzCXJpSW4OmUvvM46T-1jzD7cs9U50Z-qPZtWGBjL3oW4Y7vS41DHohRInxaXzp2_Xz3tK3kQp2Vnr79zdPnKVxG_dl4RNC3o2kvNo6vHwTrsIxQHld226IvvCvKK84FQNAzeHPC9OYNY5AzCgFR9JySMiMyMe4VqtYMX26uPoEl38OnanAKNB_2Xx5O3nqMNr4AefpE8CXNpR_LagriUPAs2TAjRbRPvnmf5G3EI4o9lGB2kJGXT8QetMnX57IBqyNkA4qIcA5PO6D1b54Ks3TEmNikVYDMFWukdywdfb6DcR047kTee6a2UZWtl1ewfuZQZ1SK3phhBcITJxTCg,[]>
2025-03-26T10:55:06.746+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2025-03-26T10:55:06.747+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJpbGJmck1FLWlVZDFCRWJ2bG5vTTNmV1h6S2QtQXY1eWVDU0xk (truncated)..."]
2025-03-26T10:55:06.748+03:00 TRACE 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-26T10:55:06.749+03:00 DEBUG 13132 --- [patient-service] [http-nio-8083-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-26T10:58:37.582+03:00  INFO 13132 --- [patient-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-26T10:58:37.595+03:00  INFO 13132 --- [patient-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-26T10:58:37.599+03:00  INFO 13132 --- [patient-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-26T10:58:37.601+03:00  INFO 13132 --- [patient-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-26T10:58:37.606+03:00  INFO 13132 --- [patient-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-26T11:02:46.980+03:00  INFO 8472 --- [patient-service] [main] c.s.p.PatientServiceApplication          : Starting PatientServiceApplication using Java 21.0.6 with PID 8472 (E:\self-educ\patient-service\target\classes started by srmzhk in E:\self-educ\patient-service)
2025-03-26T11:02:46.982+03:00  INFO 8472 --- [patient-service] [main] c.s.p.PatientServiceApplication          : No active profile set, falling back to 1 default profile: "default"
2025-03-26T11:02:47.617+03:00  INFO 8472 --- [patient-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-26T11:02:47.656+03:00  INFO 8472 --- [patient-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 1 JPA repository interface.
